<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
        <meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>


    



    



    



    



    


<title>Naren Dasan</title>


    
        <meta name="title" content="Twilight">
    
    
        <meta name="author" content="Naren Dasan">
    
    
        <meta name="description" content="Reconfigurable Self Organizing Office Lighting">
    
        <meta name="generator" content="Zola v0.16.1">

        <meta property="og:type" content="website">
        <meta property="og:url" content="https://www.narendasan.com/blog/twilight/">
    
        <meta property="og:site_name" content="">
    
    
        <meta property="og:title" content="Twilight">
    
    
        <meta property="og:description" content="Reconfigurable Self Organizing Office Lighting">
    
    
        <meta property="og:image" content="https:&#x2F;&#x2F;www.narendasan.com&#x2F;img&#x2F;favicon.ico">
    

    
    
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://www.narendasan.com/blog/twilight/">
        
        <meta property="twitter:title" content="Twilight">
        
        
        <meta property="twitter:description" content="Reconfigurable Self Organizing Office Lighting">
        
        
        <meta property="twitter:image" content="https:&#x2F;&#x2F;www.narendasan.com&#x2F;img&#x2F;favicon.ico">
        
    

        <link rel="canonical" href="https://www.narendasan.com/blog/twilight/">
    
        <link rel="shortcut icon" type="image/x-icon" href="https://www.narendasan.com/img/favicon.ico">
    
        <script type="application/ld+json">
            {
                "description":"Reconfigurable Self Organizing Office Lighting",
                "url":"https://www.narendasan.com/blog/twilight/",
                "@type":"WebSite",
                "headline":"Twilight",
                "name":"Twilight",
                "author":{
                    "@type":"Person",
                    "name":"Naren Dasan"
                },
                "@context":"https://schema.org"
            }
        </script>



        <link rel="stylesheet" href="https://www.narendasan.com/style.css"/>

        <script>
            MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              },
              svg: {
                fontCache: 'global'
              }
            };
            </script>
        <script type="text/javascript" id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    </head>
    <body theme="auto">
        <div class="w">
            <header>
                <a href="/">
                    <img src="/img/naren_logo_transparent.png" class="logo-img invertable" alt="About Nielsen Ramon header image">
                </a>

                <nav class="header-nav">
    
                    <a href="/about" >about</a>
    
                    <a href="/pubs" >publications</a>
    
                    <a href="/dir" >directory</a>
    
                    <a href="/blog" >blog</a>
    
                    <a href="/photos" >photos</a>
    
                    <a href="/rps" >reposts</a>
    
                </nav>


<p><a href=".."><-</a>&ensp;twilight</p>
<p class="post-meta"><time datetime="2017-12-13">December 13, 2017</time></p>
<h1>Twilight</h1>
<i>Reconfigurable Self Organizing Office Lighting</i>
<hr>

            </header>
            <main class="page-content" aria-label="Content">




<p><img src="https://www.narendasan.com/blog/twilight/assets/install.jpg" alt="install" /></p>
<blockquote>
<p>A portion of the Twilight Installation in the office of ACM@UIUC</p>
</blockquote>
<p>Twilight is a concept for self organizing office lighting based on similar ideas to my work on
the <a href="https://www.narendasan.com/blog/twilight/amorphous-facade">Amorphous Facade</a>. I did this work for my Undergraduate Senior Project
with Rauhul Varma and advised by Rebecca Chen and Prof. Can Bayram.</p>
<p>Phillips Hue and similar lighting systems are really popular and they actually can have health
benefits for their users as well as be a useful display of information. Having the correct color temperature
at certain times of day for example improves peoples' happiness and their productivity. Since
we spend a majority of our days in the office, it makes sense that we would want similar benefits
at work. Solutions like Hue won't work in the office place due to their architecture. They operate
on a hub spoke model where lights will connect to a hub which connects the lights to the network
where they will be controlled by a cloud service, operated by Phillips themselves. Users are therefore
beholden to Phillips to keep the service running in order to access their lights. This immediately
is not acceptable to a business. This architecture also limits scalability and increases network congestion,
where for every $N$ lights you need $M$ hubs. This sort of model is common place across the
range of IoT devices and as a rebuttal to the current industry approach to ubiquitous computing, we present a lighting
platform called Twilight that seeks to demonstrate the potential of intelligent and easy to
use smart devices. Twilight achieves these goals by applying ideas from the field of swarm robotics and developing
a lighting system that is self-organizing and reconfigurable.</p>
<p><img src="https://www.narendasan.com/blog/twilight/assets/concept.png" alt="concept" /></p>
<blockquote>
<p>Concept art for Twilight, lights are designed to be compatible with standard ceiling tiles and magnetically mounted.</p>
</blockquote>
<p>Having these properties allows you to infinitely scale out the system, no longer requiring hubs to connect them.
Lights communicate amongst themselves in order to change properties like their colors and having federated control
of the lighting system creates desirable properties like fault tolerance. If key nodes in the system go down,
the lighting system is resilient or in the worst case can partition itself into two separate fully operational systems.</p>
<h3 id="hardware">Hardware</h3>
<p>Each light is setup as a box, the size of a standard ceiling tile and ringed with magnets for mounting. On the internal
perimeter there is reflective tape and an LED strip as the actual light source. The strip is controlled by a Raspberry Pi
and a custom control board which also connects the light to other lights in the network. Blocks are run off standard $120 VAC$
wall power.</p>
<p><img src="https://www.narendasan.com/blog/twilight/assets/hw.png" alt="hw" /></p>
<blockquote>
<p>The hardware architecture for Twilight</p>
</blockquote>
<p><img src="https://www.narendasan.com/blog/twilight/assets/board.png" alt="board" /></p>
<blockquote>
<p>The custom controller for Twilight node</p>
</blockquote>
<h3 id="software">Software</h3>
<p>We chose a Raspberry Pi because in addition to building this project for our Senior Design Project we also
made this as an installation for the UIUC Chapter of ACM. It was meant to be installed in their office and
serve as a teaching tool for swarm robotics. Raspberry Pis make Twilight way more accessible than an embedded
programming environment.</p>
<p><img src="https://www.narendasan.com/blog/twilight/assets/sw.png" alt="sw" /></p>
<blockquote>
<p>The software architecture for Twilight</p>
</blockquote>
<h4 id="self-organization">Self-Organization</h4>
<p>The whole point of this system is that we can build a bunch of lights, but they organize themselves to
create smart behavior. The first step is localization. Conveniently, the lights are arranged in a grid on
the ceiling. We therefore start by gossiping between nodes until they elect a leader, the block with the
&quot;lowest MAC address&quot;. This node will also be the &quot;border router&quot; the bridge between the LAN and the Twilight network.
This is dynamic role so if this node is lost then a new border router is elected. This node also serves as the origin of the grid.
From here messages are propagated telling nodes their coordinates until each node knows where it is. Now developers can create
applications which just index nodes in the grid and set states for them or they can send out a global command and let the network
resolve how to implement it. For instance below is a example of a command to set the grid white. Nodes receive and send commands until
all nodes are the right color.</p>
<p><img src="https://www.narendasan.com/blog/twilight/assets/sync.gif" alt="sync" /></p>
<h2 id="the-installation">The Installation</h2>
<p>Here are some cool videos and pictures of the system.</p>
<p><img src="https://www.narendasan.com/blog/twilight/assets/deploy.gif" alt="deploy" /></p>
<blockquote>
<p>Twilight running on the ceiling of the ACM office</p>
</blockquote>
<p><img src="https://www.narendasan.com/blog/twilight/assets/installation.jpg" alt="installation" /></p>
<blockquote>
<p>Installing a Twilight node</p>
</blockquote>
<p><img src="https://www.narendasan.com/blog/twilight/assets/system.jpg" alt="system" /></p>
<blockquote>
<p>Three twilight nodes connected</p>
</blockquote>
<blockquote>
<p>You can find the full thesis here: <a href="https://github.com/narendasan/narendasan.com/raw/master/_assets/files/twilight_reconfigurable_self_organizing%20_office_lighting.pdf">Twilight: Reconfigurable Self Organizing Office Lighting</a></p>
</blockquote>
<blockquote>
<p>You can find the source code and schematics can be found here: <a href="https://github.com/acm-uiuc/twilight-old">https://github.com/acm-uiuc/twilight-old</a></p>
</blockquote>


            </main>
        </div>
    </body>
    <footer>
        
<p class="taxonomies">
    
        
<a href="/tags/distributed-systems">#distributed systems</a>
        
<a href="/tags/swarm-robotics">#swarm robotics</a>
        
<a href="/tags/embedded-systems">#embedded systems</a>
        
<a href="/tags/hci">#hci</a>
        
<a href="/tags/design">#design</a>
        
    
</p>

        <nav>
        
            
                            <a href="/pdf/naren_dasan_resume_june_2021_with_citations.pdf" rel="me">cv</a>
            
                            <a href="https://scholar.google.com/citations?user=CDQ_1PQAAAAJ&hl=en" rel="me">google scholar</a>
            
                            <a href="https://twitter.com/narendasan" rel="me">twitter</a>
            
                            <a href="https://github.com/narendasan" rel="me">github</a>
            
                            <a href="https://sigmoid.social/@narendasan" rel="me">mastodon</a>
            
                            <a href="https://linkedin.com/in/narendasan" rel="me">linkedin</a>
            
                            <a href="mailto:naren@narendasan.com" rel="me">email</a>
            
        
            <a href="/rss.xml" rel="me">feed</a>
            <a href="/tags" rel="me">tags</a>
        </nav>
    </footer>
</html>

