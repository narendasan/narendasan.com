---
layout: post
title: "Peter Pan: Semantic Image Compression"
description: "A method of compressing images, prioritizing semaniticall important data"
thumb_image: "about.jpg"
tags: [cv, cg]
---

> This work was done during the Greylock Hackfest 2016

## How compression works

### Lossy vs. Lossless

## Human centered compression

Some components of an image are more important than others. We as people care more 
about the details in the subject than the details in the background in the general 
(there are cases like landscape photography where we do care more about the background).

Hence instead of uniformly compressing the entire image, it may be worth while to 
compress the background significantly in some lossy way while essentially maintaining the 
full resolution of the subject of the image. This also leverages the fact that typically
the background is out of focus and so minor discrepancies are harder to detect. 

## System Architecture
As this work was done at a hackathon we couldn't train some end to end system.
Instead we leverage the work done in semantic segmentation. We create 
segmentation masks for each subject in the image and seperate the subject pixels from 
the background pixels. Then we losslessly compress the subject pixels and we downsample (as a cheap
form of lossy compression) the background. This now represents the compressed form of the 
image and can be transmitted. We then transfer the compressed image, upsample the background and
overlay the subjects. 

## Preformace 
We did a short performace analysis against the inspiration for this project which is Facebook's
image compression scheme, which netoriously creates noisey images after compression. 
We see that for the subjects comparing the full resolution image to the image produced after compression that as you'd expect the descrepencies are only in the background and harder to notice. 
For Facebook the differences are spread uniformly and therefore there is a lot of artifacting in the
subject of the image. From a quick visual inspect we see better images from our approach than Facebooks 
